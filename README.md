# 毕业总结

## 凡此过往，皆为序章
离上次毕业已经快三年了，毕业这个字眼还是挺陌生的。其实每个阶段的结束，都是为了下个阶段更好的开始。

只是一冲动就报了Java进阶训练营，只是一进训练营就打开了新世界的大门，只是从未觉得自己不会的这么多，也只是从未想过了解的这么少。

训练营结束了，但是工作和生活远远没有结束。短短四个月时间，训练营为我构建了知识的框架，但是要成为一个T字型人才，还是需要自己继续努力吸收知识，转化成自己的能力。

凡此过往，皆为序章。我们从此肝胆相照，并肩成长。

## 总结
1. JVM

Java的平台无关性是基于JVM得到的。通过JVM，java程序可以一次编译，到处运行。JVM区域通过线程私有和线程共享两个部分组成，线程私有包括程序计数器、本地方法栈和虚拟机栈等，线程共有的则包括方法区和堆等。其中，Java对象主要存放在堆上（由于JVM的进化，不是那么绝对）。由于JVM替程序员管理了内存，因此代码编写过程中不需要考虑内存的释放。但是一旦内存出现泄露，JAVA比其他语言更难以解决。要掌握常用的JVM的GC算法，以及常用的垃圾回收器，比如serial、parallel、CMS、G1、YGC、ZGC等。熟悉各GC的原理，并能通过原理分析出使用场景，两相印证。除此之外，还有掌握类的加载的机制，classloader的原理和向上委托的机制，以及JVM对程序的编译和优化等等。JVM是java程序运行的基础，我们要想了解java程序运行的底层逻辑，就要时刻联系底层和表象，知其然更要知其所以然。

2. NIO

程序的底层行为，包括文件读取、请求接入、请求转发都属于典型的IO行为，正是IO能力决定着一个服务的能力高低。传统的IO模型（BIO）具有性能较差、阻塞等缺点，在等待数据和拷贝数据两个阶段都被block了。在非阻塞式IO中，用户进程其实是需要不断的主动询问kernel数据准备好了没有。IO复用模型主要是select和epoll。一个线程可以对多个IO端口进行监听，当socket有读写事件时分发到具体的线程进行处理。信号驱动式I/O首先允许Socket进行信号驱动IO,并安装一个信号处理函数，进程继续运行并不阻塞。当数据准备好时，进程会收到一个SIGIO信号，可以在信号处理函数中调用I/O操作函数处理数据。异步IO不是顺序执行。用户进程进行aio_read系统调用之后，无论内核数据是否准备好，都会直接返回给用户进程，然后用户态进程可以去做别的事情。等到socket数据准备好了，内核直接复制数据给进程，然后从内核向进程发送通知。IO两个阶段，进程都是非阻塞的。
Netty是构建在非阻塞IO模型上的一套隐藏了网络协议的复杂性并提供了易用性的网络框架。

3. 并发编程

作为一名合格的java程序员，要时刻保持对并发的敏感性。首先要了解java中多线程机制的开发、实现机制，熟悉线程池的实现原理和api，了解并发安全的集合类，包括concurrentHashMap、atomic类和copyOnWrite类；同时还要熟悉volatile、synchronized和锁的实现和jvm原理，熟悉juc包中并发工具类的使用和原理，熟悉CAS机制，熟悉AQS机制。在工作中，要多思考多探索并发安全的实现和运用。

4. Spring和ORM框架

Spring的出现，大大减少了java程序的复杂度，它通过依赖反转的思想完成了低耦合、高内聚的最佳实践。Spring的核心特性，即依赖注入和面向切面编程，spring的其他模块都是构建在核心容器中的。使用Spring就要去了解Spring的机制，最核心的就是ioc容器，要去熟悉Spring容器的继承层次，了解每个接口或者抽象类赋予了容器什么能力，了解Spring中bean的生命周期，以及Spring容器在启动中是如何对bean进行处理的，还有就是AOP是如何实现的。
此外，还需要了解SpringMVC的实现，如何实现的servlet接口和对请求的处理，以及整个请求处理过程的细节。Spring本身结合了多种设计模式和最佳实践，可以说常看常新。

5. MySQL数据库和SQL

MySQL数据库是工程常用的持久性组件，是典型的关系型数据库。一个应用的性能瓶颈往往都在数据库中。数据库的学习，要首先了解sql的使用，了解sql在MySQL中是如何执行的，比如解释器、执行器、引擎等。再之后要了解如何根据场景设计表，设计索引，各种类型索引的区别和使用场景，索引的底层数据结构，以及sql执行是如何走索引的。了解了这些内容之后，就要进阶了，去了解一下数据库的ACID特性，MySQL是如何分别实现以上特性的。还有数据库的主从复制，同步机制，和数据库的分布式集群配置和运行机制。学习数据库，就要联系理论看实际。

6. 分库分表

分库分表表面上是个技术问题，其实实际上是个业务问题。最初的数据库中，所有数据都放在几张表中。当并发增大，数据库的性能就成为了瓶颈，这时候就要通过增加数据库套数，也就是水平拆分分表。但是这样的话，不同业务的流量还是会进到同样的集群中。当业务量再度增大，就需要考虑垂直拆分了。分库分表实现的方式多种多样，可以通过aop自己实现，也可以使用中间件比如dble、ss等，或者通过引入分库分表的三方库来解决问题，要根据场景进行选型。数据拆分还要考虑数据量大时数据迁移的问题。

7. RPC和微服务

rpc就是远程过程调用，即想在调用本地方法一样调用远程服务。rpc的标准实现是，远程服务提供存根，本地服务通过调用存根方法，继而获取注册中心中的远程服务信息，通过通信协议构建通信报文，远程服务接收并完成服务调用。dubbo现在是业界应用最广泛的rpc框架，通过netty进行构建，在流程中加入了服务注册、负载均衡、服务染色、服务发现等功能。

8. 分布式缓存

当数据库能力无法满足业务需要，我们可以考虑使用缓存策略减少对数据库的直接访问。也就是，计算机领域的任何问题都可以通过加一层来解决。缓存技术就是指通过更快的存储设备存储更经常访问的数据从而提高访问效率。
常用的分布式缓存包括memcached，redis，hazzelcast等。我们要熟悉业界常用的redis的数据格式和使用，并熟悉redis的主从、sentinel和集群部署模式的配置和运行机制，还要熟悉redis的应用，比如分布式计数器、分布式锁，以及redis的驱动和客户端的使用。

9. 分布式消息队列

分布式消息队列在业界应用广泛，起到了流量削峰、系统解耦、高吞吐、可持久化、水平扩展等作用。现在使用广泛的有rocketmq和kafka，要熟悉kafka的机制，生产者、消费者和broker的运行机制，熟悉broker集群的配置，熟练掌握kafka的核心概念，掌握kafka是如何保证消息不丢失的机制。
